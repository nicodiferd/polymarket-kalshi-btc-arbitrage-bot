#!/bin/bash

# Start the arbitrage bot - launches frontend and backend concurrently

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# Trap to kill both processes on exit
trap 'kill $(jobs -p) 2>/dev/null' EXIT

echo "Starting backend (localhost:8000) and frontend (localhost:3000)..."
echo "Press Ctrl+C to stop both servers"
echo ""

# Start backend
(cd "$SCRIPT_DIR/backend" && source venv/bin/activate && python3 api.py) &

# Start frontend
(cd "$SCRIPT_DIR/frontend" && npm run dev) &

# Wait for both processes
wait
